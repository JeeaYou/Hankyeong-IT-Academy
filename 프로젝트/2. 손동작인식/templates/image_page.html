<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ë¯¸ì§€ ë³´ê¸°</title>

    <!-- image_page_style.scc ìŠ¤íƒ€ì¼ ì‹œíŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° -->
    <link rel="stylesheet" href="{{ url_for('static',filename='image_page_style.css')}}">
</head>
<body>
    <div class="container">

        <!-- ì´ë¯¸ì§€ íŒŒì¼ì„ ì¶œë ¥í•˜ê¸° -->
        <div class="image-upload" id="image-upload">
            <form enctype="multipart/form-data">
                <div class="button">
                    <label for="chooseFile">
                        ğŸ‘‰ CLICK HERE! ğŸ‘ˆ
                    </label>
                </div>
                <input type="file" id="chooseFile" name="chooseFile" accept="C:\Users\yumei\Desktop\py\Project\image" onchange="loadFile(this)" >
            </form>
            
            <!-- íŒŒì¼ì´ë¦„ë§Œ ì¶œë ¥í•˜ê³  Submitë¥¼ í´ë¦­ì‹œ ì´ë¯¸ì§€ ì¶œë ¥ -->
            <div class="fileContainer">
                <div class="fileInput">
                    <p>FILE NAME: </p>
                    <p id="fileName"></p>
                </div>
                <div class="buttonContainer">
                    <div class="submitButton" id="submitButton">SUBMIT</div>
                </div>
                
            </div>
        </div>

        <!-- ì´ë¯¸ì§€ ì¶œë ¥í•˜ê¸° -->
        <div class="image-show" id="image-show"></div>
    </div>
    

    <script>
        //Submit ë²„íŠ¼ í´ë¦­ì‹œ ì´ë¯¸ì§€ ë³´ì—¬ì£¼ê¸°
        var submit = document.getElementById('submitButton');
        submit.onclick = showImage;     

        function showImage() {
            var newImage = document.getElementById('image-show').lastElementChild;
             //ì´ë¯¸ì§€ëŠ” í™”ë©´ì— ë‚˜íƒ€ë‚˜ê¸°
            newImage.style.visibility = "visible";
            
            // document.getElementById('image-upload').style.visibility = 'hidden';  ë²„íŠ¼ì„ ìˆ¨ê¸°ê¸°

            //ê¸°ì¡´ íŒŒì¼ ì´ë¦„ ì§€ìš°ê¸°
            document.getElementById('fileName').textContent = null;     
        }

        // ì´ë¯¸ì§€ ì¶œë ¥í•˜ê¸°
        function loadFile(input) {
            // ì´ë¯¸ì§€ íŒŒì¼ì„ ì •ì˜í•˜ê¸°
            var file = input.files[0];

            // íŒŒì¼ë„¤ì„ì„ ì •ì˜í•˜ê³  ì´ë¦„ì„ ê°€ì ¸ì˜¤ê¸°
            var name = document.getElementById('fileName');
            name.textContent = file.name;

            // í’€ë”ì— ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ê¸°
            var newImage = document.createElement("img");
            newImage.setAttribute("class", 'img');

            newImage.src = URL.createObjectURL(file);   

            // ì´ë¯¸ì§€ì˜ ì‚¬ì´ì¦ˆë¥¼ ì„¤ì •í•˜ê¸°
            newImage.style.width = "70%";
            newImage.style.height = "70%";
            //ë²„íŠ¼ì„ í´ë¦­ ì „ê¹Œì§€ëŠ” ì´ë¯¸ì§€ ìˆ¨ê¸°ê¸°
            newImage.style.visibility = "hidden";   
            //ë²„íŠ¼ì„ í´ë¦­í›„ ì´ë¯¸ì§€ê°€ ë‚˜íƒ€ê°€ê¸° 
            newImage.style.objectFit = "contain";   

            // ì´ë¯¸ì§€ë¥¼ ë³´ê¸°
            var container = document.getElementById('image-show');
            container.appendChild(newImage);
        }
    </script>
</body>
</html>